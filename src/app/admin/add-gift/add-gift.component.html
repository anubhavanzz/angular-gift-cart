<mat-card>
  <div class="row">
    <!-- Form to add Gift card -->
    <div class="col-8">
      <div>
        <mat-toolbar>
          <h4>Add Gift Card</h4>
        </mat-toolbar>
        <button mat-raised-button (click)="addCategory()">Add Category</button>
      </div>
      <div>
        <form [formGroup]="giftForm"  (ngSubmit)="onSave(giftForm)" class="example-form">
          <table>
            <tr>
              <td>
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Gift Name" formControlName="Name"  [(ngModel)]="giftCard.name">
                </mat-form-field>
                <mat-error>
                  <span *ngIf="!giftForm.get('Name').valid && giftForm.get('Name').touched">Please add the gift name</span>
                </mat-error>
              </td>
              <td>
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Brand Name" formControlName="Brand" [(ngModel)]="giftCard.brand"> 
                </mat-form-field>
                <mat-error>
                  <span *ngIf="!giftForm.get('Brand').valid && giftForm.get('Brand').touched">Please add the brand</span>
                </mat-error>
              </td>
            </tr>
            <tr>
              <td>
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Points" formControlName="Points" [(ngModel)]="giftCard.points">
                  <mat-hint>Points should be greater than 0</mat-hint>  
                </mat-form-field>
                <mat-error>
                   <span *ngIf="!giftForm.get('Points').valid && giftForm.get('Points').touched">Points required & should be between 0 and 1000 </span>
                  <!-- <span *ngIf="giftForm.get('Points').errors.min || giftForm.get('Points').errors.max || !giftForm.get('Points').valid && giftForm.get('Points').touched"> Points should be between 0 and 1000</span>  -->
                  <!-- <span *ngIf="giftForm.get('Points').errors.pattern"> No alpha bet or special char allowed</span>  -->
                </mat-error>
              </td>
              <td>
                <mat-form-field class="example-full-width">
                  <mat-select formControlName="categoryName" placeholder="Select Category" [(ngModel)]="giftCard.categoryName">
                    <mat-option *ngFor="let category of categories; trackBy: trackByFn" [value]=category.name>
                        {{category.name}}
                    </mat-option>
                  </mat-select>
                  <mat-error>
                    <span *ngIf="!giftForm.get('categoryName').valid && giftForm.get('categoryName').touched">Please select
                      a Category!!!</span>
                  </mat-error>
                </mat-form-field >
              </td>
            </tr>
            <tr>
              <td>
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Price" formControlName="Price" [(ngModel)]="giftCard.price">
                </mat-form-field>
                <mat-error>
                   <span *ngIf="!giftForm.get('Price').valid && giftForm.get('Price').touched">Required ,Price should between 0 and 1000</span> 
                  <!-- <span *ngIf="giftForm.get('Price').errors.max || giftForm.get('Price').errors.min ||!giftForm.get('Price').valid && giftForm.get('Price').touched ">Price should between 0 and 1000 </span> -->
                  <!-- <span *ngIf="giftForm.get('Price').errors.min">Price should be greater than 0 </span> -->
                  <!-- <span *ngIf="giftForm.get('Price').errors.pattern"> No alpha bet or special char or decimal allowed</span>  -->
                </mat-error>
              </td>
              <td>
                <mat-form-field class="example-full-width">
                  <textarea matInput placeholder="Leave a comment" formControlName="Description" [(ngModel)]="giftCard.description"></textarea>
                  <mat-hint>min length should be 5 char. </mat-hint> 
                </mat-form-field>
                <mat-error>
                  <span *ngIf="!giftForm.get('Description').valid && giftForm.get('Description').touched">Add
                    Description </span>
                </mat-error>
              </td>
            </tr>
            <tr>
              <td>
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Image URL" formControlName="ImageUrl" [(ngModel)]="giftCard.imageUrl">
                </mat-form-field>
                <mat-error>
                  <span *ngIf="!giftForm.get('ImageUrl').valid && giftForm.get('ImageUrl').touched">Add
                    ImageUrl </span>
                
                </mat-error>
              </td>
            </tr>
            <tr>
              <div class="row ml-4">

                <button mat-raised-button [disabled]="!giftForm.valid">Save Gift</button>
              </div>
            </tr>
          </table>
        </form>

      </div>

    </div>
    <!-- Showing the preview of the Gift Card -->
    <div class="col-4">
        <app-gift-card [giftCard]="giftCard"></app-gift-card>  
      
    </div>
  </div>
  </mat-card>